<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Game</title>
    <link href="game.css" rel="stylesheet"/>
</head>
<body>
<div>
    <ul>
        <li><a class="active" href="/index">Home</a></li>
        <li><a href="/register">Register</a></li>
        <li><a href="/about">About</a></li>
        <li><a href="/profile">Profile</a></li>
        <li><a href="/tutorial">How To Play</a></li>

    </ul>
</div>
<div class="grid-container">
    <div class="item1"><h1> Location 1</h1>
    </div>

    <div class="item2">
        <img id="image" src="images/scene.jpg">
    </div>
    <div class="item3" id="map"></div>
    <style>
      #map {
        height: 400px;
        width: 400px;
       }
    </style>
    <script>

  var map, infoWindow;
  function initMap() {
    map = new google.maps.Map(document.getElementById('map'), {
      center: {lat: -34.397, lng: 150.644},
      zoom: 6
    });
     createMarker();
    infoWindow = new google.maps.InfoWindow;

    // Try HTML5 geolocation.
    if (navigator.geolocation) {
      navigator.geolocation.getCurrentPosition(function(position) {
        var pos = {
          lat: position.coords.latitude,
          lng: position.coords.longitude
        };

        infoWindow.setPosition(pos);
        infoWindow.setContent('Location found.');
        infoWindow.open(map);
        map.setCenter(pos);
      }, function() {
        handleLocationError(true, infoWindow, map.getCenter());
      });
    } else {
      // Browser doesn't support Geolocation
      handleLocationError(false, infoWindow, map.getCenter());
    }
  }
   function createMarker() {
   var Kista = { lat: 59.402435, lng: 17.946482 };
   var marker = new google.maps.Marker({ position: Kista, map: map });
   var Kista2 = { lat: 58.402435, lng: 17.946482 };
   var marker2 = new google.maps.Marker({ position: Kista2, map: map });
 }

<!--function compareLocation() {-->
    <!--var Kista = { lat: 59.402435, lng: 17.946482 };-->
    <!--var Kista2 = { lat: 59.402435, lng: 17.946482 };-->
    <!--if(google.maps.geometry.spherical.computeDistanceBetween(Kista,Kista2)<50){-->
    <!--alert('You have arrived!');-->
    <!--}-->

  function handleLocationError(browserHasGeolocation, infoWindow, pos) {
    infoWindow.setPosition(pos);
    infoWindow.setContent(browserHasGeolocation ?
                          'Error: The Geolocation service failed.' :
                          'Error: Your browser doesn\'t support geolocation.');
    infoWindow.open(map);
  }


function measure(59.402435,17.946482, 58.402435, 17.946482){  // generally used geo measurement function
    var R = 6378.137; // Radius of earth in KM
    var dLat = 58.402435 * Math.PI / 180 - 59.402435 * Math.PI / 180;
    var dLng = 17.946482 * Math.PI / 180 - 17.946482 * Math.PI / 180;
    var a = Math.sin(dLat/2) * Math.sin(dLat/2) +
    Math.cos(59.402435 * Math.PI / 180) * Math.cos(58.402435 * Math.PI / 180) *
    Math.sin(dLng/2) * Math.sin(dLng/2);
    var c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));
    var d = R * c;
    return d * 1000; // meters
    console.log(d*1000)
}
}


</script>



    <script async defer
            src="https://maps.googleapis.com/maps/api/js?key=AIzaSyA_jwnTApaXdy0x7JR_ZqzzxL86__SQoUE&libraries=geometry&callback=initMap">
    </script>


    <div class="item4">
        <p>Click the button to get your coordinates.</p>

        <button onclick="getCurrentPosition()">Try It</button>
        <button onclick="measure()">Compare</button>

    </div>
</div>
<div class="item5">Murderscene - clue 1
    You (the detective) show up to the crime scene. There is a dead woman lying dead on the floor.
    Next to her is a knife, but there doesn't seem to be any blood. Throughout the room there are signs of a struggle.
    The woman does not appear to have died of natural causes. You see muddy footprints leading toward the door. You decide to follow them outside.
</div>
<div class="item6">Score</div>

<button type="button">Next Clue</button>

</div>

</body>
</html>





